(this["webpackJsonpgeek-text"]=this["webpackJsonpgeek-text"]||[]).push([[0],{301:function(e,t,a){e.exports=a(565)},306:function(e,t,a){},389:function(e,t,a){},565:function(e,t,a){"use strict";a.r(t);var n=a(6),r=a(7),o=a(9),l=a(8),s=a(10),i=a(0),c=a.n(i),m=a(17),u=a.n(m),d=a(14),h=a(65),p=(a(306),function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).call(this))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{id:"jumbo-container"},c.a.createElement("div",{className:"jumbotron header"},c.a.createElement("div",{className:"container header-text"},c.a.createElement("h1",{className:"display-2"},"Geek Text"),c.a.createElement("h1",{className:"display-4"},"Because geeks like reading too."),c.a.createElement("hr",{className:"my-4"}),c.a.createElement("button",{className:"ui secondary basic button huge",id:"browse-button"},c.a.createElement(d.b,{to:"/Browse"},"Browse")))))}}]),t}(c.a.Component)),b=function(){return c.a.createElement("div",null,c.a.createElement("div",{class:"footer-bs"},c.a.createElement("div",{class:"row"},c.a.createElement("div",{class:"col-md-3 footer-brand animated fadeInLeft",style:{marginTop:"-1%"}},c.a.createElement("h4",null,"GEEK TEXT"),c.a.createElement("p",null,"Suspendisse hendrerit tellus laoreet luctus pharetra. Aliquam porttitor vitae orci nec ultricies. Curabitur vehicula, libero eget faucibus faucibus, purus erat eleifend enim, porta pellentesque ex mi ut sem."),c.a.createElement("p",null,"2019 No rights reserved")),c.a.createElement("div",{class:"col-md-4 footer-nav animated fadeInUp",style:{marginRight:"-10%"}},c.a.createElement("h4",null,"Team_"),c.a.createElement("div",{class:"col-md-6"},c.a.createElement("ul",{class:"pages"},c.a.createElement("li",null,"Slav Tourachev"),c.a.createElement("li",null,"Steven Valle"),c.a.createElement("li",null,"Shanna Sit"),c.a.createElement("li",null,"Steven Villa"),c.a.createElement("li",null,"Lalliet Vila"),c.a.createElement("li",null,"Noe Velasquez")))),c.a.createElement("div",{class:"col-md-2 footer-social animated fadeInDown footer-links"},c.a.createElement("h4",null,"Follow Us"),c.a.createElement("ul",null,c.a.createElement("li",null,c.a.createElement("a",{href:"#",className:"footer-links"},"Facebook")),c.a.createElement("li",null,c.a.createElement("a",{href:"#",className:"footer-links"},"Twitter")),c.a.createElement("li",null,c.a.createElement("a",{href:"#",className:"footer-links"},"Instagram")))),c.a.createElement("div",{class:"col-md-3 footer-ns animated fadeInRight"},c.a.createElement("h4",null,"Book Search"),c.a.createElement("p",null,"A rover wearing a fuzzy suit doesn\u2019t alarm the real penguins"),c.a.createElement("p",null,c.a.createElement("div",{class:"input-group"},c.a.createElement("input",{type:"text",class:"form-control",placeholder:"Search for..."}),">",c.a.createElement("span",{class:"input-group-btn"},c.a.createElement("button",{class:"btn btn-default",type:"button"},c.a.createElement("span",{class:"glyphicon glyphicon-envelope"})))))))))},f=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).call(this,e))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"body"},c.a.createElement(p,null),c.a.createElement(b,null)))}}]),t}(c.a.Component),E=a(15),g=a(590),v=a(269),y=a(200),k=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={cartBooks:[],cartItems:[],quantity:0,totalPrice:0,savedItems:[],savedBooks:[],username:a.props.username},a.getCartItems=a.getCartItems.bind(Object(E.a)(a)),a.removeCartItems=a.removeCartItems.bind(Object(E.a)(a)),a.changeQuantity=a.changeQuantity.bind(Object(E.a)(a)),a.getSavedItems=a.getSavedItems.bind(Object(E.a)(a)),a.removeSavedItems=a.removeSavedItems.bind(Object(E.a)(a)),a.moveToCartHandler=a.moveToCartHandler.bind(Object(E.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/cart",{method:"post",body:JSON.stringify({username:this.props.username}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.getCartItems(t.result)})),fetch("/saved-for-later",{method:"post",body:JSON.stringify({username:this.state.username}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.getSavedItems(t.result)})),this.forceUpdate()}},{key:"changeQuantity",value:function(e,t){var a=parseInt(t.target.value,10),n=e.bookid;""==t.target.value&&(a=0),fetch("/cart/edit",{method:"POST",body:JSON.stringify({quantity:a,price:e.price,total:(e.price*a).toFixed(2),title:e.title,userid:this.state.username,bookid:e.bookid}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){console.log("ITEM EDITED")})).catch((function(e){console.log(e)})),console.log(this.state.cartBooks.find((function(e){return e.bookid===n}))),this.state.cartBooks.find((function(e){return e.bookid===n})).quantity=a,this.getCartItems(this.state.cartBooks)}},{key:"getCartItems",value:function(e){var t=this,a=0;console.log("BOOKS START:"),console.log(e);var n=e.map((function(e){return a+=e.price*e.quantity,c.a.createElement("tr",{key:e.bookid},c.a.createElement("td",null,e.title),c.a.createElement("td",null,"x",c.a.createElement("input",{class:"purchase-input",type:"number",value:e.quantity,onChange:t.changeQuantity.bind(t,e)})),c.a.createElement("td",null,"$",e.price.toFixed(2)),c.a.createElement("td",null,c.a.createElement("button",{type:"button",class:"btn btn-outline-dark",onClick:t.onSaveForLater.bind(t,e)},"Save For Later"),c.a.createElement(v.a,{onClick:t.removeCartItems.bind(t,e),style:{backgroundColor:"rgba(0,0,0,0)",border:"none"}},c.a.createElement(y.a,{name:"close",color:"red"}))))}));this.setState({cartBooks:e,cartItems:n,totalPrice:a}),this.forceUpdate()}},{key:"removeCartItems",value:function(e){this.state.cartBooks.splice(this.state.cartBooks.findIndex((function(t){return t.bookid===e.bookid})),1),fetch("/cart/delete",{method:"POST",body:JSON.stringify({userid:this.state.username,bookid:e.bookid}),headers:{"Content-Type":"application/json"}}).then((function(e){return console.log(e.body)})).then((function(e){console.log("Item Deleted")})).catch((function(e){console.log(e)})),this.getCartItems(this.state.cartBooks)}},{key:"onSaveForLater",value:function(e){var t=this.state.cartBooks.findIndex((function(t){return t.bookid===e.bookid}));console.log(this.state.cartBooks[t]),this.state.savedBooks.push(this.state.cartBooks[t]),this.getSavedItems(this.state.savedBooks),fetch("/saved-for-later/cart-to-later",{method:"post",body:JSON.stringify({userid:this.state.username,bookid:e.bookid,price:e.price,title:e.title}),headers:{"Content-Type":"application/json"}}).then((function(e){return console.log(e.body)})).then((function(e){console.log("Item Moved")})).catch((function(e){console.log(e)})),this.state.cartBooks.splice(t,1),this.getCartItems(this.state.cartBooks)}},{key:"moveToCartHandler",value:function(e){var t=this.state.savedBooks.findIndex((function(t){return t.bookid===e.bookid}));console.log(this.state.savedBooks[t]),this.state.cartBooks.push(this.state.savedBooks[t]),this.getCartItems(this.state.cartBooks),fetch("/saved-for-later/swap",{method:"POST",body:JSON.stringify({userid:this.state.username,bookid:e.bookid,price:e.price,title:e.title}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){console.log(e)})),this.state.savedBooks.splice(t,1),this.getSavedItems(this.state.savedBooks)}},{key:"getSavedItems",value:function(e){var t=this,a=e.map((function(e){return c.a.createElement("tr",{key:e.bookId},c.a.createElement("td",null,e.title),c.a.createElement("td",null,"$",e.price.toFixed(2)),c.a.createElement("td",null,c.a.createElement("button",{onClick:t.moveToCartHandler.bind(t,e),type:"button",class:"btn btn-outline-dark"},"Move To Cart"),c.a.createElement(v.a,{onClick:t.removeSavedItems.bind(t,e),style:{backgroundColor:"rgba(0,0,0,0)",border:"none"}},c.a.createElement(y.a,{name:"close",color:"red"}))))}));console.log(e),this.setState({savedBooks:e,savedItems:a}),this.forceUpdate()}},{key:"removeSavedItems",value:function(e){this.state.savedBooks.splice(this.state.savedBooks.findIndex((function(t){return t.bookid===e.bookid})),1),this.getSavedItems(this.state.savedBooks),fetch("/saved-for-later/delete",{method:"POST",body:JSON.stringify({userid:this.state.username,bookid:e.bookid}),headers:{"Content-Type":"application/json"}}).then((function(e){return console.log(e.body)})).then((function(e){console.log("Item Deleted")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{id:"purchase-container"},c.a.createElement("div",{id:"purchase-body"},c.a.createElement("h1",{className:"display-4",style:{marginBottom:"3%"}},"Your Cart"),c.a.createElement(g.a,null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Book Title"),c.a.createElement("th",null,"Quantity"),c.a.createElement("th",null,"Price"),c.a.createElement("th",null))),c.a.createElement("tbody",null,this.state.cartItems)),c.a.createElement("div",{className:"price-row"},c.a.createElement("h3",null,"Total Price: $",this.state.totalPrice.toFixed(2))),c.a.createElement("div",{className:"price-row"},c.a.createElement(v.a,{size:"lg",style:{width:"30%"},onClick:this.addItems},"Purchase")))),c.a.createElement("div",{id:"purchase-container"},c.a.createElement("div",{id:"purchase-body"},c.a.createElement("h1",{className:"display-4",style:{marginBottom:"3%"}},"Saved For Later"),c.a.createElement(g.a,null,c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Book Title"),c.a.createElement("th",null,"Price"),c.a.createElement("th",null))),c.a.createElement("tbody",null,this.state.savedItems)))))}}]),t}(c.a.Component),C=c.a.createContext(),O=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).call(this,e))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.isLoggedIn?c.a.createElement("div",null,c.a.createElement("div",{className:"body"},c.a.createElement(C.Consumer,null,(function(e){return c.a.createElement("div",null,c.a.createElement(k,{username:e.username,isLoggedIn:e.isLoggedIn}))})),c.a.createElement(b,null))):c.a.createElement("div",{class:"ohoh"},c.a.createElement("h1",{class:"display-4"},"Oh, Oh!"),c.a.createElement("p",{class:"lead"},"Looks like you're not logged in!"),c.a.createElement("p",{class:"lead"},"Click below to get to the login page."),c.a.createElement("hr",{class:"my-4"}),c.a.createElement("p",{class:"lead"},c.a.createElement(d.b,{to:"/login"},c.a.createElement("button",{type:"button",class:"btn btn-outline-primary btn-block"},"Take Me There!"))))}}]),t}(c.a.Component),j=a(583),S=a(111),N=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).addToCartHandler=function(e){e.preventDefault(),fetch("/cart/insert",{method:"POST",body:JSON.stringify({username:a.props.username,bookID:a.props.bookID,quantity:1,price:a.props.price,title:a.props.title}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then(alert("Submitted!"))},a.addToLaterHandler=function(e){e.preventDefault(),fetch("/saved-for-later/insert",{method:"POST",body:JSON.stringify({username:a.props.username,bookID:a.props.bookID,quantity:1,price:a.props.price,title:a.props.title}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then(alert("Submitted!"))},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return this.props.isLoggedIn?c.a.createElement("div",null,c.a.createElement("div",{class:"card"},c.a.createElement(S.a,{small:this.props.image,large:this.props.image,className:"card-top",alt:this.props.title}),c.a.createElement("div",{class:"card-body"},c.a.createElement("h5",{class:"card-title"},this.props.author),c.a.createElement(d.b,{to:{pathname:"/book/"+this.props.bookID}},c.a.createElement("p",{class:"card-text"},this.props.title))),c.a.createElement("ul",{class:"list-group list-group-flush"},c.a.createElement("li",{class:"list-group-item"},"Genre: ",this.props.genre),c.a.createElement("li",{class:"list-group-item"},"Price: $",this.props.price),c.a.createElement("li",{class:"list-group-item"},"Rating: ",this.props.rating),c.a.createElement("li",{class:"list-group-item"},"Release Date: ",this.props.date)),c.a.createElement("div",{class:"card-body card-links"},c.a.createElement("button",{type:"button",class:"btn btn-secondary cart-button",onClick:function(t){return e.addToCartHandler(t)}},"Add to Cart"),c.a.createElement("button",{type:"button",class:"btn btn-secondary cart-button",onClick:function(t){return e.addToLaterHandler(t)}},"Save For later")))):c.a.createElement("div",null,c.a.createElement("div",{class:"card"},c.a.createElement(S.a,{small:this.props.image,large:this.props.image,className:"card-top",alt:this.props.title}),c.a.createElement("div",{class:"card-body"},c.a.createElement("h5",{class:"card-title"},this.props.author),c.a.createElement(d.b,{to:{pathname:"/book/"+this.props.bookID}},c.a.createElement("p",{class:"card-text"},this.props.title))),c.a.createElement("ul",{class:"list-group list-group-flush"},c.a.createElement("li",{class:"list-group-item"},"Genres: ",this.props.genre),c.a.createElement("li",{class:"list-group-item"},"Price: $",this.props.price),c.a.createElement("li",{class:"list-group-item"},"Rating: ",this.props.rating),c.a.createElement("li",{class:"list-group-item"},"Release Date: ",this.props.date)),c.a.createElement("div",{class:"card-body card-links"},c.a.createElement(d.b,{to:"/login"},c.a.createElement("button",{type:"button",className:"btn btn-secondary btn-lg btn-block"},"Add To Cart")))))}}]),t}(c.a.Component),I=a(276),w=a.n(I),T=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={books:[],ogBooks:[],pageNumber:1,booksPerPage:10,activePage:1,loading:!0},a.handleInputChange=a.handleInputChange.bind(Object(E.a)(a)),a.handlePageChange=a.handlePageChange.bind(Object(E.a)(a)),a.updateBooksPerPage10=a.updateBooksPerPage10.bind(Object(E.a)(a)),a.updateBooksPerPage20=a.updateBooksPerPage20.bind(Object(E.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/books").then((function(e){return e.json()})).then((function(t){return e.setState({books:t,ogBooks:t,loading:!1})}))}},{key:"handlePageChange",value:function(e){var t=this;console.log("active page is ".concat(e));var a=e;this.setState({activePage:a},(function(){console.log(t.state.activePage)})),this.forceUpdate()}},{key:"handleInputChange",value:function(e){var t=e.target,a="checkbox"===t.type?t.checked:t.value,n=t.name,r=t.value,o=this.state.ogBooks;if("rating"===n&&(r=parseInt(r)),!0===a){var l=this.state.books.filter((function(e){return e[n]===r}));console.log(l),this.setState({books:l}),this.forceUpdate()}else this.setState({books:o}),console.log("False")}},{key:"sortAlphabeticaly",value:function(){this.setState=this.state.books.sort((function(e,t){return e.author>t.author?1:-1})),console.log(this.state.books)}},{key:"sortAuthorA2Z",value:function(e){this.setState=this.state.books.sort((function(e,t){return e.author>t.author?1:-1})),this.forceUpdate()}},{key:"sortAuthorZ2A",value:function(e){this.setState=this.state.books.sort((function(e,t){return e.author<t.author?1:-1})),this.forceUpdate()}},{key:"sortTitleA2Z",value:function(e){this.setState=this.state.books.sort((function(e,t){return e.title>t.title?1:-1})),this.forceUpdate()}},{key:"sortTitleZ2A",value:function(e){this.setState=this.state.books.sort((function(e,t){return e.title<t.title?1:-1})),this.forceUpdate()}},{key:"sortPriceL2H",value:function(e){this.setState=this.state.books.sort((function(e,t){return e.price-t.price})),this.forceUpdate()}},{key:"sortPriceH2L",value:function(e){this.setState=this.state.books.sort((function(e,t){return t.price-e.price})),this.forceUpdate()}},{key:"sortDateL2H",value:function(e){this.setState=this.state.books.sort((function(e,t){return t.date<e.date?1:-1})),this.forceUpdate()}},{key:"sortDateH2L",value:function(e){this.setState=this.state.books.sort((function(e,t){return e.date<t.date?1:-1})),this.forceUpdate()}},{key:"sortRatingL2H",value:function(e){this.setState=this.state.books.sort((function(e,t){return e.rating-t.rating})),this.forceUpdate()}},{key:"sortRatingH2L",value:function(e){this.setState=this.state.books.sort((function(e,t){return t.rating-e.rating})),this.forceUpdate()}},{key:"updateBooksPerPage10",value:function(){this.setState({booksPerPage:"10"}),this.forceUpdate()}},{key:"updateBooksPerPage20",value:function(){this.setState({booksPerPage:"20"}),this.forceUpdate()}},{key:"render",value:function(){var e=this,t=this.state.books.slice((this.state.activePage-1)*this.state.booksPerPage,this.state.activePage*this.state.booksPerPage).map((function(e){return c.a.createElement(C.Consumer,null,(function(t){return c.a.createElement(N,{username:t.username,isLoggedIn:t.isLoggedIn,bookID:e.bookid,title:e.title,image:e.imagelink,author:e.author,genre:e.genre,price:e.price,rating:e.rating,date:e.date})}))}));return c.a.createElement("div",{id:"browse-container"},c.a.createElement("div",{id:"sidebar"},c.a.createElement("div",null,c.a.createElement("h2",null,"Genre"),c.a.createElement("p",null,"Comedy"," ",c.a.createElement("input",{name:"genre",value:"Comedy",type:"checkbox",onChange:function(t){return e.handleInputChange(t)}})),c.a.createElement("p",null,"Fantasy"," ",c.a.createElement("input",{name:"genre",value:"Fantasy",type:"checkbox",onChange:function(t){return e.handleInputChange(t)}})),c.a.createElement("p",null,"Horror"," ",c.a.createElement("input",{name:"genre",value:"Horror",type:"checkbox",onChange:function(t){return e.handleInputChange(t)}})),c.a.createElement("p",null,"Nonfiction"," ",c.a.createElement("input",{name:"genre",value:"Nonfiction",type:"checkbox",onChange:function(t){return e.handleInputChange(t)}})),c.a.createElement("p",null,"Mystery"," ",c.a.createElement("input",{name:"genre",value:"Mystery",type:"checkbox",onChange:function(t){return e.handleInputChange(t)}})),c.a.createElement("p",null,"Romance"," ",c.a.createElement("input",{name:"genre",value:"Romance",type:"checkbox",onChange:function(t){return e.handleInputChange(t)}})),c.a.createElement("p",null,"Sci-Fi"," ",c.a.createElement("input",{name:"genre",value:"Sci-Fi",type:"checkbox",onChange:function(t){return e.handleInputChange(t)}})),c.a.createElement("hr",null),c.a.createElement("h3",null,"Top Sellers Only ",c.a.createElement("input",{type:"checkbox"})),c.a.createElement("hr",null),c.a.createElement("h2",null,"Rating"),c.a.createElement("p",null,c.a.createElement("i",{class:"fas fa-star"}),c.a.createElement("i",{class:"fas fa-star"}),c.a.createElement("i",{class:"fas fa-star"}),c.a.createElement("i",{class:"fas fa-star"}),c.a.createElement("i",{class:"fas fa-star"})," ",c.a.createElement("input",{name:"rating",value:"5",type:"checkbox",onChange:function(t){return e.handleInputChange(t)}})),c.a.createElement("p",null,c.a.createElement("i",{class:"fas fa-star"}),c.a.createElement("i",{class:"fas fa-star"}),c.a.createElement("i",{class:"fas fa-star"}),c.a.createElement("i",{class:"fas fa-star"})," ",c.a.createElement("input",{name:"rating",value:"4",type:"checkbox",onChange:function(t){return e.handleInputChange(t)}})),c.a.createElement("p",null,c.a.createElement("i",{class:"fas fa-star"}),c.a.createElement("i",{class:"fas fa-star"}),c.a.createElement("i",{class:"fas fa-star"})," ",c.a.createElement("input",{name:"rating",value:"3",type:"checkbox",onChange:function(t){return e.handleInputChange(t)}})),c.a.createElement("p",null,c.a.createElement("i",{class:"fas fa-star"}),c.a.createElement("i",{class:"fas fa-star"})," ",c.a.createElement("input",{name:"rating",value:"2",type:"checkbox",onChange:function(t){return e.handleInputChange(t)}})),c.a.createElement("p",null,c.a.createElement("i",{class:"fas fa-star"})," ",c.a.createElement("input",{name:"rating",value:"1",type:"checkbox",onChange:function(t){return e.handleInputChange(t)}})))),c.a.createElement("div",{id:"browse-body"},c.a.createElement("div",{id:"nav-browse-body"},c.a.createElement("div",{class:"dropdown"},c.a.createElement("button",{type:"button",class:"btn btn-lg btn-light dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Sort By"),c.a.createElement("div",{class:"dropdown-menu"},c.a.createElement("a",{class:"dropdown-item",onClick:function(){return e.sortAuthorA2Z()}},"Author: A-Z"),c.a.createElement("a",{class:"dropdown-item",onClick:function(){return e.sortAuthorZ2A()}},"Author: Z-A"),c.a.createElement("a",{class:"dropdown-item",onClick:function(){return e.sortTitleA2Z()}},"Title: A-Z"),c.a.createElement("a",{class:"dropdown-item",onClick:function(){return e.sortTitleZ2A()}},"Title: Z-A"),c.a.createElement("a",{class:"dropdown-item",onClick:function(){return e.sortPriceL2H()}},"Price: Low-High"),c.a.createElement("a",{class:"dropdown-item",onClick:function(){return e.sortPriceH2L()}},"Price: High-Low"),c.a.createElement("a",{class:"dropdown-item",onClick:function(){return e.sortDateL2H()}},"Date: Old-New"),c.a.createElement("a",{class:"dropdown-item",onClick:function(){return e.sortDateH2L()}},"Date: New-Old"),c.a.createElement("a",{class:"dropdown-item",onClick:function(){return e.sortRatingL2H()}},"Rating: Low-High"),c.a.createElement("a",{class:"dropdown-item",onClick:function(){return e.sortRatingH2L()}},"Rating: High-Low"))),c.a.createElement("div",{class:"dropdown"},c.a.createElement("button",{type:"button",class:"btn btn-lg btn-light dropdown-toggle","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"},"Books Per Page:"),c.a.createElement("div",{class:"dropdown-menu"},c.a.createElement("a",{onClick:this.updateBooksPerPage10,class:"dropdown-item",href:"#"},"10"),c.a.createElement("a",{onClick:this.updateBooksPerPage20,class:"dropdown-item",href:"#"},"20")))),c.a.createElement("hr",{className:"sexy_line"}),c.a.createElement("div",{id:"card-body"},this.state.loading?c.a.createElement(j.a,null):t),c.a.createElement("br",null),c.a.createElement(w.a,{activePage:this.state.activePage,itemsCountPerPage:this.state.booksPerPage,totalItemsCount:this.state.books.length,pageRangeDisplayed:5,onChange:this.handlePageChange,linkClass:"page-link"})))}}]),t}(c.a.Component),x=function(e){return e.isLoggedIn?c.a.createElement("div",null,c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},c.a.createElement("div",{id:"navbar-left"},c.a.createElement("ul",{className:"navbar-nav navbar-items"},c.a.createElement("li",{className:"nav-item active",id:"home-logo"},c.a.createElement(d.b,{to:"/"},c.a.createElement("i",{className:"fas fa-home fa-lg"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"ui vertical large button",tabIndex:"0"},c.a.createElement("div",{className:"visible content"},c.a.createElement(d.b,{to:"/Browse"},"Browse")))))),c.a.createElement("div",{id:"navbar-right"},c.a.createElement("ul",{className:"navbar-nav navbar-items"},c.a.createElement("li",null,c.a.createElement("div",{className:"ui vertical large button",tabIndex:"0"},c.a.createElement("div",{className:"visible content"},c.a.createElement(d.b,{to:"/profile"},"My Account")))),c.a.createElement("li",null,c.a.createElement("div",{className:"ui vertical large button",tabIndex:"0"},c.a.createElement("div",{className:"visible content"},c.a.createElement(d.b,{to:"/wishlist"},"Wishlists")))),c.a.createElement("li",null,c.a.createElement("div",{className:"ui vertical large button",tabIndex:"0"},c.a.createElement(C.Consumer,null,(function(e){return c.a.createElement("div",{className:"visible content",onClick:e.logout},c.a.createElement(d.b,{to:"/"},"Sign Out"))})))),c.a.createElement("li",null,c.a.createElement("div",{className:"ui vertical large button",tabIndex:"0"},c.a.createElement("div",{className:"visible content"},c.a.createElement(d.b,{to:"/cart"},c.a.createElement("i",{className:"shop icon"})))))))))):c.a.createElement("div",null,c.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-light bg-light"},c.a.createElement("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent"},c.a.createElement("div",{id:"navbar-left"},c.a.createElement("ul",{className:"navbar-nav navbar-items"},c.a.createElement("li",{className:"nav-item active",id:"home-logo"},c.a.createElement(d.b,{to:"/"},c.a.createElement("i",{className:"fas fa-home fa-lg"}))),c.a.createElement("li",null,c.a.createElement("div",{className:"ui vertical large button",tabIndex:"0"},c.a.createElement("div",{className:"visible content"},c.a.createElement(d.b,{to:"/Browse"},"Browse")))))),c.a.createElement("div",{id:"navbar-right"},c.a.createElement("ul",{className:"navbar-nav navbar-items"},c.a.createElement("li",null,c.a.createElement(d.b,{to:"/login"},c.a.createElement("div",{className:"ui vertical large button",tabIndex:"0"},c.a.createElement("div",{className:"visible content"},"Login")))),c.a.createElement("li",null,c.a.createElement("div",{className:"ui vertical large button",tabIndex:"0"},c.a.createElement("div",{className:"visible content"},c.a.createElement(d.b,{to:"/cart"},c.a.createElement("i",{className:"shop icon"}))))))))))},P=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(T,null),c.a.createElement(b,null))}}]),t}(c.a.Component),L=a(141);var D=function(e){var t=e.comment,a=t.nickname,n=t.comment,r=t.rating;return c.a.createElement("div",{className:"media mb-3"},c.a.createElement("img",{className:"mr-3 bg-light rounded",width:"50",height:"50",src:"https://ui-avatars.com/api/?name=".concat(a,"?rounded=true"),alt:a}),c.a.createElement("div",{className:"media-body p-2 shadow-sm rounded bg-light border"},c.a.createElement("median",{className:"float-right text-muted"}," ","Rating: ",r),c.a.createElement("h6",{className:"mt-0 mb-1 text-muted"},a),n))};function A(e){return c.a.createElement("div",{className:"commentList"},c.a.createElement("h5",{className:"text-muted mb-4"},c.a.createElement("span",{className:"badge badge-success"},e.comments.length)," ","Comment",e.comments.length>0?"s":""),0!==e.comments.length||e.loading?null:c.a.createElement("div",{className:"alert text-center alert-info"},"Be the first to comment about this book"),e.comments.map((function(e,t){return c.a.createElement(D,{key:t,comment:e})})))}var B=a(194),M=a(25),F=(a(389),a(588)),U=function(e){var t=e.selected,a=void 0!==t&&t,n=e.onClick,r=void 0===n?function(e){return e}:n;return c.a.createElement("div",{className:a?"star selected":"star",onClick:r})},H=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).handleFieldChange=function(e){var t=e.target,n=t.value,r=t.name;t.text;"anymonous"==e?a.setState({nickname:e}):a.setState(Object(M.a)({},r,n))},a.state={isFeteching:!1,loading:!1,error:"",totalStars:5,decision:!1,nickname:"",comment:"",rating:0,bookid:a.props.bookid,userid:a.props.username},a.handleFieldChange=a.handleFieldChange.bind(Object(E.a)(a)),a.onSubmit=a.onSubmit.bind(Object(E.a)(a)),a.starChange=a.starChange.bind(Object(E.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/personal-info",{method:"POST",body:JSON.stringify({username:this.props.username}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){return e.setState({nickname:t.nickname})})).then(console.log(this.state)).catch((function(e){console.log(e)}))}},{key:"starChange",value:function(e){this.setState(Object(B.a)({},this.state,{rating:e}))}},{key:"onSubmit",value:function(e){var t=this;if(e.preventDefault(),this.isFormValid()){this.setState({error:"",loading:!0});var a=this.state.data;fetch("/comments/insertComment",{method:"post",body:JSON.stringify({nickname:this.state.nickname,comment:this.state.comment,rating:this.state.rating,bookid:this.state.bookid,userid:this.state.userid}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.error?t.setState({loading:!1,error:e.error}):(t.props.addComment({nickname:t.state.nickname,comment:t.state.comment,rating:t.state.rating,bookid:t.state.bookid,userid:t.state.userid}),t.setState({loading:!1,comments:Object(B.a)({},a,{comment:""})}))})).catch((function(e){t.setState({error:"Something went wrong while submitting form.",loading:!1})})),fetch("/comments/isPurchased",{method:"POST",body:JSON.stringify({bookid:this.props.bookid,userid:this.state.userid}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){!1===e.decision?(t.setState({loading:!1,error:e.error}),alert("you need to buy the book in order to comment and rate it")):t.setState({decision:!0})})).catch((function(e){alert("you need to buy the book in order to comment and rate it"),t.state({error:"You need to buy the book in order to comment and rate it",loading:!1})}))}else this.setState({error:"All fields are required."})}},{key:"isFormValid",value:function(){return""!==this.state.comment&&0!==this.state.rating}},{key:"renderError",value:function(){return this.state.error?c.a.createElement("div",{className:"alert alert-danger"},this.state.error):null}},{key:"render",value:function(){var e=this,t=[{key:this.state.nickname,text:this.state.nickname,value:this.state.nickname,image:{avatar:!0,src:"https://ui-avatars.com/api/?name=".concat(this.state.nickname,"?rounded=true")}},{key:"anonymous",text:"anonymous",value:"anonymous",image:{avatar:!0,src:"https://ui-avatars.com/api/?name=anonymous?rounded=true"}}];return c.a.createElement(c.a.Fragment,null,c.a.createElement("form",{method:"post",onSubmit:this.onSubmit},c.a.createElement(F.a,Object(M.a)({placeholder:"Select Your Nickname",fluid:!0,selection:!0,options:t,onChange:this.getNickname},"onChange",this.handleFieldChange)),c.a.createElement("br",null),c.a.createElement("div",{className:"form-group"},c.a.createElement("textarea",{onChange:this.handleFieldChange,value:this.state.comment,className:"form-control",placeholder:"\ud83d\udcda Your Comment",name:"comment",rows:"5"})),this.renderError(),c.a.createElement("div",{className:"star-rating"},Object(L.a)(Array(this.state.totalStars)).map((function(t,a){return c.a.createElement(U,{key:a,selected:a<e.state.rating,onClick:function(){return e.starChange(a+1)}})})),c.a.createElement("p",null,this.state.rating," of ",this.state.totalStars," stars")),c.a.createElement("br",null),c.a.createElement("div",{className:"form-group"},c.a.createElement("button",{disabled:this.state.loading,className:"btn btn-primary"},"Comment \u27a4"))))}}]),t}(i.Component),J=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={comments:[],loading:!1,bookid:a.props.bookid},a.addComment=a.addComment.bind(Object(E.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"addComment",value:function(e){this.setState({loading:!1,comments:[e].concat(Object(L.a)(this.state.comments))})}},{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),fetch("/personal-info",{method:"POST",body:JSON.stringify({username:this.props.username}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){return e.setState({nickname:t.nickname})})).catch((function(e){console.log(e)})),fetch("/comments/getComments",{method:"POST",body:JSON.stringify({bookid:this.props.bookid}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({comments:t,loading:!1})})).catch((function(t){e.setState({loading:!1})}))}},{key:"form",value:function(){return this.props.isLoggedIn?c.a.createElement(H,{addComment:this.addComment,username:this.props.username,bookid:this.props.bookid,nickname:this.props.nickname}):c.a.createElement("div",{class:"ohoh"},c.a.createElement("p",{class:"lead"},"Looks like you're not logged in!"),c.a.createElement("p",{class:"lead"},"Click below to get to the login page."),c.a.createElement("hr",{class:"my-4"}),c.a.createElement("p",{class:"lead"},c.a.createElement(d.b,{to:"/login"},c.a.createElement("button",{type:"button",class:"btn btn-outline-primary btn-block"},"Take Me There!"))))}},{key:"render",value:function(){var e=this;return c.a.createElement(C.Consumer,null,(function(t){return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"App container bg-light shadow"},c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-4  pt-3 border-right"},e.form()),c.a.createElement("div",{className:"col-8  pt-3 bg-white"},c.a.createElement(A,{loading:e.state.loading,comments:e.state.comments})))))}))}}]),t}(i.Component),q=a(39),R=a(585),W=a(589);function z(){return Math.round(20*Math.random())-10}function V(){var e=50+z(),t=50+z();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var Z=Object(R.a)((function(e){return{paper:{position:"absolute",width:600,backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),G=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).mySubmitHandler=function(e){e.preventDefault();var t=1;t="option1"===a.state.selectedOption?1:"option2"===a.state.selectedOption?2:3,fetch("/wishlist/addToWish",{method:"POST",body:JSON.stringify({userid:a.props.username,bookid:a.props.bookid,listnum:t}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){1==e.decision?alert("Book added to Wishlist"):alert("Book is already in Wishlist!")})).catch((function(e){console.log(e)})),a.props.closeMethod()},a.state={selectedOption:"option1",names:["Wishlist1","Wishlist2","Wishlist3"]},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){this.setState({selectedOption:e.target.value})}},{key:"componentDidMount",value:function(){var e=this;fetch("/wishlist/getNames",{method:"POST",body:JSON.stringify({userid:this.props.username}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({names:t})}))}},{key:"render",value:function(){return this.props.isLoggedIn?c.a.createElement("form",{onSubmit:this.mySubmitHandler},c.a.createElement("h2",{id:"simple-modal-title"},"Select Wishlist"),c.a.createElement("p",null,"Add Book to a Wishlist"),c.a.createElement("div",{classname:"radio"},c.a.createElement("label",null,c.a.createElement("input",{type:"radio",value:"option1",checked:"option1"===this.state.selectedOption,onChange:this.handleChange}),this.state.names[0])),c.a.createElement("div",{classname:"radio"},c.a.createElement("label",null,c.a.createElement("input",{type:"radio",value:"option2",checked:"option2"===this.state.selectedOption,onChange:this.handleChange}),this.state.names[1])),c.a.createElement("div",{classname:"radio"},c.a.createElement("label",null,c.a.createElement("input",{type:"radio",value:"option3",checked:"option3"===this.state.selectedOption,onChange:this.handleChange}),this.state.names[2])),c.a.createElement("button",{type:"submit",class:"btn btn-outline-secondary"},"Submit")):c.a.createElement("div",null,c.a.createElement("p",null,"Looks like you aren't logged in"),c.a.createElement(d.b,{to:"/login"},c.a.createElement("button",{type:"button",class:"btn btn-outline-primary btn-block"},"Login")))}}]),t}(c.a.Component);function Y(e){var t=Z(),a=c.a.useState(V),n=Object(q.a)(a,1)[0],r=c.a.useState(!1),o=Object(q.a)(r,2),l=o[0],s=o[1],i=function(){s(!1)};return c.a.createElement("div",null,c.a.createElement(v.a,{size:"lg",style:{width:"30%",marginRight:"5vw"},type:"button",class:"floated",onClick:function(){s(!0)}},"Save to Wishlist"),c.a.createElement(v.a,{size:"lg",style:{width:"30%",marginRight:"5vw"},type:"button",class:"floated",onClick:function(){e.isLoggedIn?fetch("/cart/insert",{method:"POST",body:JSON.stringify({username:e.username,bookID:e.bookid,quantity:1,price:e.price,title:e.title}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){alert("Book added to Cart!")})).catch((function(e){alert("Error adding book to Cart!")})):s(!0)}},"Save to Cart"),c.a.createElement(W.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:l,onClose:i},c.a.createElement("div",{style:n,className:t.paper},c.a.createElement(G,{username:e.username,closeMethod:i,bookid:e.bookid,isLoggedIn:e.isLoggedIn}))))}var $=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={bookData:{author:"Author Name",authorid:999,bookDesc:"Book Description",bookid:9999,date:"1000-01-01",genre:"A Genre",imagelink:"A URL",price:.99,publisher:"Publisher's Inc",rating:1,title:"Book Title"},authorData:{authorid:999,bio:"Author's Life History",name:"Author Name",img:"A URL"},commentData:[]},a.getStars=a.getStars.bind(Object(E.a)(a)),a.getAverage=a.getAverage.bind(Object(E.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/books/getBook",{method:"POST",body:JSON.stringify({bookid:this.props.bookid}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t.result[0].authorid),fetch("/books/getAuthInfo",{method:"POST",body:JSON.stringify({authorid:t.result[0].authorid}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({authorData:t.result[0]}),console.log(e.state.authorData)})),e.setState({bookData:t.result[0]}),console.log(e.state.bookData)})),fetch("/books/getComments",{method:"POST",body:JSON.stringify({bookid:this.props.bookid}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({commentData:t})}))}},{key:"getAverage",value:function(){var e=0,t=this.state.commentData;return this.state.commentData.length>0&&(e=t.map((function(e){return e.rating})).reduce((function(e,t){return e+=t}))/t.length,console.log("RATING: "+e)),this.getStars(e)}},{key:"getStars",value:function(e){for(var t=0,a=[];t<e;)a.push(c.a.createElement("i",{class:"fas fa-star"})),t++;for(;t<5;)a.push(c.a.createElement("i",{class:"far fa-star"})),t++;return a}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{clsas:"book-container"},c.a.createElement("div",{class:"book-body"},c.a.createElement("h1",null,this.props.text),c.a.createElement("div",{class:"book-imgcontainer"},c.a.createElement(S.a,{small:this.state.bookData.imagelink,large:this.state.bookData.imagelink,className:"card-top",alt:this.state.bookData.title})),c.a.createElement("div",{class:"book-details"},c.a.createElement("h1",null,this.state.bookData.title),c.a.createElement(d.b,{to:{pathname:"/author/"+this.state.bookData.author}},c.a.createElement("h2",{id:"subtitle"},this.state.bookData.author)),c.a.createElement("p",null,"Published By ",c.a.createElement("b",null,this.state.bookData.publisher)),c.a.createElement("div",{id:"book-rating"},c.a.createElement("div",{id:"stars"},this.getAverage(this.state.bookData.rating)),c.a.createElement("p",{id:"rating-text"},this.state.commentData.length," Reviews")),c.a.createElement("h3",null,"$",this.state.bookData.price),c.a.createElement("p",null,this.state.bookData.bookDesc),c.a.createElement("div",{class:"book-rating"},c.a.createElement(Y,{username:this.props.username,isLoggedIn:this.props.isLoggedIn,bookid:this.state.bookData.bookid,price:this.state.bookData.price,title:this.state.bookData.title})))),c.a.createElement("div",{class:"section"},c.a.createElement("h1",null,"About the Author"),c.a.createElement("div",{class:"author-details"},c.a.createElement("img",{class:"author-img",src:this.state.authorData.img}),c.a.createElement("p",null,c.a.createElement("h1",{style:{marginBottom:"3%"}},this.state.bookData.author),this.state.authorData.bio))),c.a.createElement("div",{class:"section"},c.a.createElement("h1",null,"Comments"),c.a.createElement(C.Consumer,null,(function(t){return c.a.createElement(J,{bookid:e.props.bookid,imagelink:e.state.bookData.imagelink,title:e.state.bookData.title,username:t.username,isLoggedIn:t.isLoggedIn})}))))}}]),t}(c.a.Component),Q=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).call(this,e))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement("div",null,c.a.createElement(C.Consumer,null,(function(t){return c.a.createElement("div",{className:"body"},c.a.createElement($,{bookid:e.props.match.params.id,username:t.username,isLoggedIn:t.isLoggedIn}),c.a.createElement(b,null))})))}}]),t}(c.a.Component),K=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={relatedBooks:[]},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("/books").then((function(e){return e.json()})).then((function(t){e.setState({relatedBooks:t.filter((function(t){return t.author===e.props.author}))})}))}},{key:"render",value:function(){console.log(this.state.relatedBooks);var e=this.state.relatedBooks.map((function(e){return c.a.createElement(N,{username:"context.username",isLoggedIn:!1,bookID:e.bookid,title:e.title,author:e.author,genre:e.genre,price:e.price,rating:e.rating,date:e.date,image:e.imagelink})}));return c.a.createElement("div",{class:"author-container"},c.a.createElement("h1",null,this.props.author,"'s Other Works"),c.a.createElement("p",null,"Check out what we have in stock for ",this.props.author,"!"),c.a.createElement("div",{class:"author-body"},e))}}]),t}(c.a.Component),_=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).call(this,e))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"body"},c.a.createElement(K,{author:this.props.match.params.name}),c.a.createElement(b,null))}}]),t}(c.a.Component),X=a(591);function ee(){return Math.round(20*Math.random())-10}function te(){var e=50+ee(),t=50+ee();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var ae=Object(R.a)((function(e){return{paper:{position:"absolute",width:600,backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),ne=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).mySubmitHandler=function(e){e.preventDefault(),fetch("/personal-info/change-password",{method:"POST",body:JSON.stringify({username:a.props.username,newPassword:a.state.newPassword}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){console.log(e)})),alert("Submitted!"),a.props.closeMethod()},a.state={username:a.props.username,newPassword:""},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return c.a.createElement("form",{onSubmit:this.mySubmitHandler},c.a.createElement("p",null,"Enter New Password:"),c.a.createElement("input",{type:"password",name:"newPassword",pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters",onChange:this.handleChange,className:"form-control",required:!0}),c.a.createElement("br",null),c.a.createElement("button",{type:"submit",class:"btn btn-outline-secondary"},"Submit"))}}]),t}(c.a.Component);function re(e){var t=ae(),a=c.a.useState(te),n=Object(q.a)(a,1)[0],r=c.a.useState(!1),o=Object(q.a)(r,2),l=o[0],s=o[1],i=function(){s(!1)};return c.a.createElement("div",null,c.a.createElement("button",{type:"button",class:"btn btn-link btn-lg",onClick:function(){s(!0)}},"CHANGE PASSWORD"),c.a.createElement(W.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:l,onClose:i},c.a.createElement("div",{style:n,className:t.paper},c.a.createElement("h2",{id:"simple-modal-title"},"Enter a new Password:"),c.a.createElement(ne,{username:e.username,closeMethod:i}))))}var oe=a(3),le=a.n(oe),se=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).mySubmitHandler=function(e){e.preventDefault(),fetch("/personal-info/edit",{method:"POST",body:JSON.stringify(Object(M.a)({username:a.state.username,email:a.state.email,fname:a.state.fname,lname:a.state.lname,nickname:a.state.nickname},"username",a.state.username)),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){console.log(e)})).then(alert("Submitted!"))},a.changeEditMode=function(){a.setState({inEditMode:!0})},a.renderEditView=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"info-card"},c.a.createElement("form",{onSubmit:a.mySubmitHandler},c.a.createElement("div",{className:"info-card-lc"},c.a.createElement("h1",null,"First Name:"," ",c.a.createElement("input",{type:"text",className:"form-control",name:"fname",onChange:a.handleChange,value:a.state.fname})),c.a.createElement("h1",null,"Last Name:"," ",c.a.createElement("input",{type:"text",className:"form-control",name:"lname",onChange:a.handleChange,value:a.state.lname})),c.a.createElement("h1",null,"Email:"," ",c.a.createElement("input",{type:"text",className:"form-control",name:"email",onChange:a.handleChange,value:a.state.email})),c.a.createElement("h1",null,"Username:"," ",c.a.createElement("input",{type:"text",className:"form-control",name:"username",onChange:a.handleChange,value:a.state.username})),c.a.createElement("h1",null,"Nickname:"," ",c.a.createElement("input",{type:"text",className:"form-control",name:"nickname",onChange:a.handleChange,value:a.state.nickname}))),c.a.createElement("div",{className:"info-card-rc"},c.a.createElement("button",{type:"submit",class:"btn btn-link btn-lg",onClick:function(e){return a.mySubmitHandler(e)}},"SAVE")))))},a.renderDefaultView=function(){return c.a.createElement("div",null,c.a.createElement("div",{className:"info-card"},c.a.createElement("div",{className:"info-card-lc"},c.a.createElement("h1",null,"First Name: ",a.state.personalInfo.fname),c.a.createElement("h1",null,"Last Name: ",a.state.personalInfo.lname),c.a.createElement("h1",null,"Email: ",a.state.personalInfo.email),c.a.createElement("h1",null,"Username: ",a.state.personalInfo.userid),c.a.createElement("h1",null,"Nickname: ",a.state.personalInfo.nickname)),c.a.createElement("div",{className:"info-card-rc"},c.a.createElement("button",{type:"button",class:"btn btn-link btn-lg",onClick:function(){return a.changeEditMode()}},"EDIT"),c.a.createElement(re,{username:a.props.username}))))},a.state={username:a.props.username,personalInfo:[],email:"",fname:"",lname:"",nickname:"",inEditMode:!1,loading:!0},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getInfo()}},{key:"getInfo",value:function(){var e=this;fetch("/personal-info",{method:"POST",body:JSON.stringify({username:this.state.username}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){return e.setState({personalInfo:t,loading:!1,email:t.email,fname:t.fname,lname:t.lname,nickname:t.nickname})})).catch((function(e){console.log(e)}))}},{key:"handleChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return c.a.createElement("div",null,this.state.loading?c.a.createElement(X.a,null):this.state.inEditMode?this.renderEditView():this.renderDefaultView())}}]),t}(c.a.Component);se.contextTypes={router:le.a.shape({history:le.a.shape({push:le.a.func.isRequired,replace:le.a.func.isRequired}).isRequired,staticContext:le.a.object}).isRequired};var ie=se;function ce(){return Math.round(20*Math.random())-10}function me(){var e=50+ce(),t=50+ce();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var ue=Object(R.a)((function(e){return{paper:{position:"absolute",width:600,backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),de=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).mySubmitHandler=function(e){console.log(a.state.ccnum),e.preventDefault(),fetch("/credit-info/insert",{method:"POST",body:JSON.stringify({username:a.props.username,ccnum:a.state.ccnum,cvv:a.state.cvv,name:a.state.name,zip:a.state.zip,expdate:a.state.expdate}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){a.getInfo()})).catch((function(e){console.log(e)})),alert("Submitted!"),a.props.closeMethod(),a.props.getInfo()},a.state={ccnum:"",cvv:"",name:"",zip:"",expdate:""},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return c.a.createElement("form",{onSubmit:this.mySubmitHandler},c.a.createElement("p",null,"Enter Credit Card Number:"),c.a.createElement("input",{type:"text",name:"ccnum",onChange:this.handleChange,minlength:"16",maxlength:"16",required:!0,className:"form-control"}),c.a.createElement("p",null,"Enter Expiration Date:"),c.a.createElement("input",{type:"date",name:"expdate",onChange:this.handleChange,placeholder:"Format: Year/Month/Date",min:"2019-11-02",required:!0,className:"form-control"}),c.a.createElement("p",null,"Enter CVV:"),c.a.createElement("input",{type:"text",name:"cvv",onChange:this.handleChange,minlength:"3",maxlength:"4",required:!0,className:"form-control"}),c.a.createElement("p",null,"Enter Name On Card:"),c.a.createElement("input",{type:"text",name:"name",onChange:this.handleChange,required:!0,className:"form-control"}),c.a.createElement("p",null,"Enter Zip:"),c.a.createElement("input",{type:"text",name:"zip",onChange:this.handleChange,minlength:"5",maxlength:"5",required:!0,className:"form-control"}),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("button",{type:"submit",class:"btn btn-outline-secondary"},"Submit"))}}]),t}(c.a.Component);function he(e){var t=ue(),a=c.a.useState(me),n=Object(q.a)(a,1)[0],r=c.a.useState(!1),o=Object(q.a)(r,2),l=o[0],s=o[1],i=function(){s(!1)};return c.a.createElement("div",null,c.a.createElement("button",{type:"button",class:"btn btn-link btn-lg",onClick:function(){s(!0)}},"ADD"),c.a.createElement(W.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:l,onClose:i},c.a.createElement("div",{style:n,className:t.paper},c.a.createElement("h2",{id:"simple-modal-title"},"Add A New Credit Card"),c.a.createElement(de,{username:e.username,closeMethod:i,getInfo:e.getInfo}))))}var pe=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).handleRefresh=function(){return a.getInfo()},a.mySubmitHandler=function(e){e.preventDefault(),fetch("/personal-info/edit",{method:"POST",body:JSON.stringify({ccnum:a.state.ccnum,cvv:a.state.cvv,name:a.state.name,zip:a.state.zip,expdate:a.state.expdate,username:a.state.username}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){console.log(e)})),alert("Submitted!")},a.changeEditMode=function(){a.setState({inEditMode:!0})},a.state={username:a.props.username,creditInfo:[],inEditMode:!1,loading:!0},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getInfo()}},{key:"getInfo",value:function(){var e=this;fetch("/credit-info",{method:"POST",body:JSON.stringify({username:this.props.username}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({creditInfo:t,loading:!1}),console.log(e.state)})).catch((function(e){console.log(e)}))}},{key:"handleInsert",value:function(e){var t=this;fetch("/credit-info/insert",{method:"POST",body:JSON.stringify({username:this.props.username,info:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.getInfo()})).catch((function(e){console.log(e)}))}},{key:"handleDelete",value:function(e){var t=this;fetch("/credit-info/delete",{method:"POST",body:JSON.stringify({username:this.props.username,ccnum:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.getInfo(),alert("Deleted!")})).catch((function(e){console.log("Hello "+e)}))}},{key:"handleChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){var e=this,t=this.state.creditInfo.map((function(t){return c.a.createElement("div",null,c.a.createElement("div",{className:"info-card"},c.a.createElement("div",{className:"info-card-lc"},c.a.createElement("h1",null,"Credit Card Number: ",t.ccnum),c.a.createElement("h1",null,"Expiration Date: ",t.expdate),c.a.createElement("h1",null,"CVV: ",t.cvv),c.a.createElement("h1",null,"Name On Card: ",t.name),c.a.createElement("h1",null,"Zip: ",t.zip)),c.a.createElement("div",{className:"info-card-rc"},c.a.createElement("button",{type:"button",class:"btn btn-link btn-lg",onClick:function(){return e.handleDelete(t.ccnum)}},"DELETE"))))})),a=c.a.createElement(C.Consumer,null,(function(a){return c.a.createElement("div",{className:"profile-card"},c.a.createElement("div",{className:"profile-card-header"},c.a.createElement("h1",{className:"display-4 "},"Credit Cards On File"),c.a.createElement(he,{username:a.username,getInfo:e.handleRefresh})),c.a.createElement("div",{className:"profile-card-content"},t))}));return c.a.createElement("div",null,this.state.loading?c.a.createElement(X.a,null):a)}}]),t}(c.a.Component);function be(){return Math.round(20*Math.random())-10}function fe(){var e=50+be(),t=50+be();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var Ee=Object(R.a)((function(e){return{paper:{position:"absolute",width:600,backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),ge=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).mySubmitHandler=function(e){e.preventDefault(),fetch("/address-info/insert",{method:"POST",body:JSON.stringify({username:a.props.username,state:a.state.state,city:a.state.city,address:a.state.address,zip:a.state.zip}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){console.log(e)})),alert("Submitted!"),a.props.closeMethod(),a.props.getInfo()},a.state={state:"",city:"",address:"",zip:""},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return c.a.createElement("form",{onSubmit:this.mySubmitHandler},c.a.createElement("p",null,"Enter Address:"),c.a.createElement("input",{type:"text",name:"address",onChange:this.handleChange,className:"form-control",required:!0}),c.a.createElement("p",null,"Enter City:"),c.a.createElement("input",{type:"text",name:"city",onChange:this.handleChange,className:"form-control",required:!0}),c.a.createElement("p",null,"Enter State:"),c.a.createElement("input",{type:"text",name:"state",onChange:this.handleChange,className:"form-control",required:!0}),c.a.createElement("p",null,"Enter Zip:"),c.a.createElement("input",{type:"text",name:"zip",onChange:this.handleChange,className:"form-control",required:!0,minlength:"5",maxlength:"5"}),c.a.createElement("br",null),c.a.createElement("button",{type:"submit",class:"btn btn-outline-secondary"},"Submit"))}}]),t}(c.a.Component);function ve(e){var t=Ee(),a=c.a.useState(fe),n=Object(q.a)(a,1)[0],r=c.a.useState(!1),o=Object(q.a)(r,2),l=o[0],s=o[1],i=function(){s(!1)};return c.a.createElement("div",null,c.a.createElement("button",{type:"button",class:"btn btn-link btn-lg",onClick:function(){s(!0)}},"ADD"),c.a.createElement(W.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:l,onClose:i},c.a.createElement("div",{style:n,className:t.paper},c.a.createElement("h2",{id:"simple-modal-title"},"Add A New Address"),c.a.createElement(ge,{username:e.username,closeMethod:i,getInfo:e.getInfo}))))}var ye=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).handleRefresh=function(){return a.getInfo()},a.state={username:a.props.username,addressInfo:[],loading:!0},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"componentDidMount",value:function(){this.getInfo(this.state.username)}},{key:"getInfo",value:function(){var e=this;fetch("/address-info",{method:"POST",body:JSON.stringify({username:this.state.username}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){e.setState({addressInfo:t,loading:!1})})).catch((function(e){console.log(e)}))}},{key:"handleInsert",value:function(e){var t=this;fetch("/address-info/insert",{method:"POST",body:JSON.stringify({username:this.state.username,state:e.state,city:e.city,address:e.address,zip:e.zip}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.getInfo()})).catch((function(e){console.log(e)}))}},{key:"handleDelete",value:function(e){var t=this;fetch("/address-info/delete",{method:"POST",body:JSON.stringify({username:this.state.username,state:e.state,city:e.city,address:e.address,zip:e.zip}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.getInfo(t.state.username),alert("Deleted!")})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.addressInfo.map((function(t,a){return c.a.createElement("div",null,c.a.createElement("div",{className:"info-card"},c.a.createElement("div",{className:"info-card-lc"},c.a.createElement("h1",null,"Address: ",t.address),c.a.createElement("h1",null,"City: ",t.city),c.a.createElement("h1",null,"State: ",t.state),c.a.createElement("h1",null,"Zip: ",t.zip)),c.a.createElement("div",{className:"info-card-rc"},c.a.createElement("button",{type:"button",class:"btn btn-link btn-lg",onClick:function(){return e.handleDelete(t)}},"DELETE"))))})),a=c.a.createElement(C.Consumer,null,(function(a){return c.a.createElement("div",{className:"profile-card"},c.a.createElement("div",{className:"profile-card-header"},c.a.createElement("h1",{className:"display-4 "},"Addresses On File"),c.a.createElement(ve,{username:a.username,getInfo:e.handleRefresh})),c.a.createElement("div",{className:"profile-card-content"}," ",t," "))}));return c.a.createElement("div",null,this.state.loading?c.a.createElement(X.a,null):a)}}]),t}(c.a.Component),ke=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={personalInfo:[],addressInfo:[],creditInfo:[]},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.isLoggedIn?c.a.createElement("div",null,c.a.createElement(C.Consumer,null,(function(e){return c.a.createElement("div",{className:"body"},c.a.createElement("div",{className:"container",id:"profile-page"},c.a.createElement("h1",{className:"display-3 "},"Welcome Home"),c.a.createElement("hr",null),c.a.createElement("div",{className:"profile-card"},c.a.createElement("div",{className:"profile-card-header"},c.a.createElement("h1",{className:"display-4 "},"Personal Info")),c.a.createElement("div",{className:"profile-card-content"},c.a.createElement(ie,{username:e.username}))),c.a.createElement("hr",null),c.a.createElement("div",{className:"profile-card"},c.a.createElement("div",{className:"profile-card-content"},c.a.createElement(ye,{username:e.username}))),c.a.createElement("hr",null),c.a.createElement("div",{className:"profile-card"},c.a.createElement("div",{className:"profile-card-content"},c.a.createElement(pe,{username:e.username})))),c.a.createElement(b,null))}))):c.a.createElement("div",{class:"ohoh"},c.a.createElement("h1",{class:"display-4"},"Oh, Oh!"),c.a.createElement("p",{class:"lead"},"Looks like you're not logged in!"),c.a.createElement("p",{class:"lead"},"Click below to get to the login page."),c.a.createElement("hr",{class:"my-4"}),c.a.createElement("p",{class:"lead"},c.a.createElement(d.b,{to:"/login"},c.a.createElement("button",{type:"button",class:"btn btn-outline-primary btn-block"},"Take Me There!"))))}}]),t}(c.a.Component),Ce=a(586),Oe=a(146);function je(){return Math.round(20*Math.random())-10}function Se(){var e=50+je(),t=50+je();return{top:"".concat(e,"%"),left:"".concat(t,"%"),transform:"translate(-".concat(e,"%, -").concat(t,"%)")}}var Ne=Object(R.a)((function(e){return{paper:{position:"absolute",width:600,backgroundColor:e.palette.background.paper,border:"1px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}})),Ie=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).mySubmitHandler=function(e){e.preventDefault(),fetch("/wishlist/rename",{method:"POST",body:JSON.stringify({userid:a.props.username,listname:a.state.listname,listnum:a.props.listnum}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).catch((function(e){console.log(e)})),alert("Name Changed!"),a.props.closeMethod(),a.props.refresh()},a.state={listname:""},a.handleChange=a.handleChange.bind(Object(E.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(M.a)({},e.target.name,e.target.value))}},{key:"render",value:function(){return c.a.createElement("form",{onSubmit:this.mySubmitHandler},c.a.createElement("p",null,"Enter New Wishlist Name:"),c.a.createElement("input",{type:"text",name:"listname",onChange:this.handleChange,className:"form-control",required:!0}),c.a.createElement("br",null),c.a.createElement("button",{type:"submit",class:"btn btn-outline-secondary"},"Submit"))}}]),t}(c.a.Component);function we(e){var t=Ne(),a=c.a.useState(Se),n=Object(q.a)(a,1)[0],r=c.a.useState(!1),o=Object(q.a)(r,2),l=o[0],s=o[1],i=function(){s(!1)};return c.a.createElement("div",null,c.a.createElement("button",{type:"button",class:"btn btn-link btn-lg",onClick:function(){s(!0)}},c.a.createElement(y.a,{name:"edit"})),c.a.createElement(W.a,{"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",open:l,onClose:i},c.a.createElement("div",{style:n,className:t.paper},c.a.createElement("h2",{id:"simple-modal-title"},"Edit Wishlist Name"),c.a.createElement(Ie,{username:e.username,closeMethod:i,listnum:e.listnum,refresh:e.refresh}))))}var Te=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).handleRefresh=function(){return a.refresh()},a.toCart=function(e,t,n){fetch("/wishlist/toCart",{method:"POST",body:JSON.stringify({userid:a.state.username,bookid:e,listnum:t,title:n}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){a.refresh()}))},a.toWish=function(e,t,n){fetch("/wishlist/toWish",{method:"POST",body:JSON.stringify({userid:a.state.username,bookid:e,listnum:t,othernum:n}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){a.refresh()}))},a.remove=function(e,t){fetch("/wishlist/remove",{method:"POST",body:JSON.stringify({userid:a.state.username,bookid:e,listnum:t}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){a.refresh()}))},a.renameList=function(e,t){fetch("/wishlist/getNames",{method:"POST",body:JSON.stringify({userid:a.state.username,listnum:e,listname:t}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(){a.refresh()}))},a.getBody=function(e,t){var n=e[0].map((function(e){return c.a.createElement("tr",{key:e.bookid},c.a.createElement("td",{class:"wishlist"},c.a.createElement("img",{class:"table-img",src:e.imagelink})),c.a.createElement("td",{class:"wishlist"},c.a.createElement(d.b,{to:{pathname:"/book/"+e.bookid}},c.a.createElement("p",null,e.title))),c.a.createElement("td",{class:"wishlist"},c.a.createElement("button",{type:"button",class:"btn btn-outline-dark",onClick:function(){return a.toCart(e.bookid,1,e.title)}},"Move to cart"),c.a.createElement(v.a,{onClick:function(){return a.remove(e.bookid,1)},style:{backgroundColor:"rgba(0,0,0,0)",border:"none"}},c.a.createElement(y.a,{name:"close",color:"red"}))),c.a.createElement("td",{class:"wishlist"},c.a.createElement(Ce.a,{id:"dropdown-basic-button",title:"Move to other wish list"},c.a.createElement(Oe.a.Item,{onClick:function(){return a.toWish(e.bookid,1,2)}},t[1]),c.a.createElement(Oe.a.Item,{onClick:function(){return a.toWish(e.bookid,1,3)}},t[2]))))})),r=e[1].map((function(e){return c.a.createElement("tr",{key:e.bookid},c.a.createElement("td",{class:"wishlist"},c.a.createElement("img",{class:"table-img",src:e.imagelink})),c.a.createElement("td",{class:"wishlist"},c.a.createElement(d.b,{to:{pathname:"/book/"+e.bookid}},c.a.createElement("p",null,e.title))),c.a.createElement("td",{class:"wishlist"},c.a.createElement("button",{type:"button",class:"btn btn-outline-dark",onClick:function(){return a.toCart(e.bookid,2,e.title)}},"Move to cart"),c.a.createElement(v.a,{onClick:function(){return a.remove(e.bookid,2)},style:{backgroundColor:"rgba(0,0,0,0)",border:"none"}},c.a.createElement(y.a,{name:"close",color:"red"}))),c.a.createElement("td",{class:"wishlist"},c.a.createElement(Ce.a,{id:"dropdown-basic-button",title:"Move to other wish list"},c.a.createElement(Oe.a.Item,{onClick:function(){return a.toWish(e.bookid,2,1)}},t[0]),c.a.createElement(Oe.a.Item,{onClick:function(){return a.toWish(e.bookid,2,3)}},t[2]))))})),o=e[2].map((function(e){return c.a.createElement("tr",{key:e.bookid},c.a.createElement("td",{class:"wishlist"},c.a.createElement("img",{class:"table-img",src:e.imagelink})),c.a.createElement("td",{class:"wishlist"},c.a.createElement(d.b,{to:{pathname:"/book/"+e.bookid}},c.a.createElement("p",null,e.title))),c.a.createElement("td",null,c.a.createElement("button",{type:"button",class:"btn btn-outline-dark",onClick:function(){return a.toCart(e.bookid,3,e.title)}},"Move to cart"),c.a.createElement(v.a,{onClick:function(){return a.remove(e.bookid,3)},style:{backgroundColor:"rgba(0,0,0,0)",border:"none"}},c.a.createElement(y.a,{name:"close",color:"red"}))),c.a.createElement("td",{class:"wishlist"},c.a.createElement(Ce.a,{id:"dropdown-basic-button",title:"Move to other wish list"},c.a.createElement(Oe.a.Item,{onClick:function(){return a.toWish(e.bookid,3,1)}},t[0]),c.a.createElement(Oe.a.Item,{onClick:function(){return a.toWish(e.bookid,3,2)}},t[1]))))}));a.setState({body1:n,body2:r,body3:o,names:t}),a.forceUpdate()},a.state={list1:[],list2:[],list3:[],body1:[],body2:[],body3:[],username:a.props.username,names:["Wishlist1","Wishlist2","Wishlist3"]},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"refresh",value:function(){var e=this;fetch("/wishlist/mount",{method:"POST",body:JSON.stringify({userid:this.props.username}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(t){console.log(t),e.getBody([t.list1,t.list2,t.list3],t.names)}))}},{key:"componentDidMount",value:function(){this.refresh(),this.forceUpdate()}},{key:"getNames",value:function(e){var t=this;fetch("/wishlist/getNames",{method:"POST",body:JSON.stringify({userid:e}),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){t.refresh()}))}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("div",{id:"purchase-container"},c.a.createElement("div",{id:"purchase-body"},c.a.createElement("h2",{class:"wishlist",style:{marginBottom:"3%"}},this.state.names[0],c.a.createElement(we,{listnum:1,username:this.state.username,refresh:this.handleRefresh})),c.a.createElement(g.a,{class:"wishlist"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Cover Art"),c.a.createElement("th",null,"Book Title"),c.a.createElement("th",null),c.a.createElement("th",null))),c.a.createElement("tbody",null,this.state.body1)))),c.a.createElement("div",{id:"purchase-container"},c.a.createElement("div",{id:"purchase-body"},c.a.createElement("h2",{class:"wishlist",style:{marginBottom:"3%"}},this.state.names[1],c.a.createElement(we,{listnum:2,username:this.state.username,refresh:this.handleRefresh})),c.a.createElement(g.a,{class:"wishlist"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Cover Art"),c.a.createElement("th",null,"Book Title"),c.a.createElement("th",null),c.a.createElement("th",null))),c.a.createElement("tbody",null,this.state.body2)))),c.a.createElement("div",{id:"purchase-container"},c.a.createElement("div",{id:"purchase-body"},c.a.createElement("h2",{class:"wishlist",style:{marginBottom:"3%"}},this.state.names[2],c.a.createElement(we,{listnum:3,username:this.state.username,refresh:this.handleRefresh})),c.a.createElement(g.a,{class:"wishlist"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Cover Art"),c.a.createElement("th",null,"Book Title"),c.a.createElement("th",null),c.a.createElement("th",null))),c.a.createElement("tbody",null,this.state.body3)))))}}]),t}(c.a.Component),xe=function(e){function t(e){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).call(this,e))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return this.props.isLoggedIn?c.a.createElement("div",null,c.a.createElement("div",null,c.a.createElement("h1",{class:"wishlist"},"Your Personal Wishlists"),c.a.createElement("div",{className:"body"},c.a.createElement(Te,{username:this.props.username,isLoggedIn:this.props.isLoggedIn}),c.a.createElement(b,null)))):c.a.createElement("div",{class:"ohoh"},c.a.createElement("h1",{class:"display-4"},"Oh, Oh!"),c.a.createElement("p",{class:"lead"},"Looks like you're not logged in!"),c.a.createElement("p",{class:"lead"},"Click below to get to the login page."),c.a.createElement("hr",{class:"my-4"}),c.a.createElement("p",{class:"lead"},c.a.createElement(d.b,{to:"/login"},c.a.createElement("button",{type:"button",class:"btn btn-outline-primary btn-block"},"Take Me There!"))))}}]),t}(c.a.Component),Pe=a(587),Le=a(592),De=a(593),Ae=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).handleChange=function(e){a.setState(Object(M.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){a.setState({hideLoader:!1}),e.preventDefault(),fetch("/auth",{method:"POST",body:JSON.stringify(a.state),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){3===e.result?a.setState({redirect:!0,hideLoader:!0}):(a.setState({hideLoader:!0}),a.handleIssue())}))},a.state={username:"",password:"",hideIssue:!0,redirect:!1,hideLoader:!0},a.handleIssue=a.handleIssue.bind(Object(E.a)(a)),a.handleLoader=a.handleLoader.bind(Object(E.a)(a)),a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"handleIssue",value:function(){this.setState({hideIssue:!1})}},{key:"handleLoader",value:function(){this.setState({hideLoader:!1})}},{key:"render",value:function(){var e=this,t=this.state,a=t.username,n=t.password,r=this.state.hideIssue?{display:"none"}:{},o=this.state.hideLoader?{display:"none"}:{};return this.state.redirect?c.a.createElement(C.Consumer,null,(function(e){return c.a.createElement(h.a,{push:!0,to:{pathname:"/profile",state:{username:e.username}}})})):c.a.createElement("div",null,c.a.createElement("div",{className:"container tall-body"},c.a.createElement("br",null),c.a.createElement("h1",{className:"display-4"},"Login:"),c.a.createElement("hr",null),c.a.createElement("h1",{style:r},"Username and password don't match. ",c.a.createElement("br",null)," Please Try Again."),c.a.createElement("form",{onSubmit:this.handleSubmit},c.a.createElement(Pe.a,{controlId:"username",bsSize:"large"},c.a.createElement(Le.a,null,"Username:"),c.a.createElement(De.a,{value:a,onChange:this.handleChange,type:"username"})),c.a.createElement(Pe.a,{controlId:"password",bsSize:"large"},c.a.createElement(Le.a,null,"Password:"),c.a.createElement(De.a,{value:n,onChange:this.handleChange,type:"password"})),c.a.createElement("div",{style:{width:"100%"}},c.a.createElement(d.b,{to:"/signUp"},c.a.createElement(v.a,{style:{width:"47%"}},"Sign Up")),c.a.createElement(C.Consumer,null,(function(t){return c.a.createElement(v.a,{style:{width:"47%",marginLeft:"6%"},type:"submit",onClick:function(){t.login(),t.setUsername(e.state.username)}},"Login")}))),c.a.createElement("h1",{style:o},c.a.createElement(X.a,null)))),c.a.createElement(b,null))}}]),t}(c.a.Component),Be=a(95),Me=a.n(Be),Fe=(a(519),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).continue=function(e){e.preventDefault(),a.props.nextStep()},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props,t=e.values,a=e.handleChange;return c.a.createElement(Me.a,null,c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"sign-in-body"},c.a.createElement("h1",{className:"display-4  container"},"Sign Up Form"),c.a.createElement("form",{onSubmit:this.continue},c.a.createElement("div",{className:"sign-in-form container"},c.a.createElement("div",{id:"sign-up-left-col"},"First Name:",c.a.createElement("input",{required:!0,type:"text",className:"form-control",placeholder:"Enter your First Name",floatingLabelText:"First Name",onChange:a("FirstName"),defaultValue:t.FirstName}),c.a.createElement("br",null),"Last Name:",c.a.createElement("input",{required:!0,type:"text",className:"form-control",placeholder:"Enter your Last Name",floatingLabelText:"Last Name",onChange:a("LastName"),defaultValue:t.LastName}),c.a.createElement("br",null),"Email:",c.a.createElement("input",{required:!0,type:"email",className:"form-control",placeholder:"Enter your Email",floatingLabelText:"Email",onChange:a("Email"),defaultValue:t.Email}),c.a.createElement("br",null),"Username:",c.a.createElement("input",{required:!0,type:"text",className:"form-control",placeholder:"Enter your Username",floatingLabelText:"Username",onChange:a("UserName"),defaultValue:t.UserName}),c.a.createElement("br",null)),c.a.createElement("div",{id:"sign-up-right-col"},"Nickname:",c.a.createElement("input",{required:!0,type:"text",className:"form-control",placeholder:"Enter your Nickname",floatingLabelText:"Nickname",onChange:a("NickName"),defaultValue:t.NickName}),c.a.createElement("br",null),"Address:",c.a.createElement("input",{required:!0,type:"address",className:"form-control",placeholder:"Enter your Address",floatingLabelText:"Address",onChange:a("Address"),defaultValue:t.Address}),c.a.createElement("br",null),"City:",c.a.createElement("input",{required:!0,id:"standard-required",className:"form-control",placeholder:"Enter your City",floatingLabelText:"City",onChange:a("City"),defaultValue:t.City}),c.a.createElement("br",null),"State:",c.a.createElement("input",{required:!0,id:"standard-required",className:"form-control",placeholder:"Enter your State",floatingLabelText:"State",onChange:a("State"),defaultValue:t.State}),c.a.createElement("br",null))),c.a.createElement("div",{className:"container"},"Password:",c.a.createElement("input",{required:!0,type:"password",id:"psw",name:"psw",className:"form-control",placeholder:"Enter your Password",floatingLabelText:"Password",onChange:a("Password"),defaultValue:t.Password,pattern:"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{8,}",title:"Must contain at least one number and one uppercase and lowercase letter, and at least 8 or more characters"}),c.a.createElement("br",null),c.a.createElement("div",{className:"sign-up-bottom-row"},c.a.createElement("button",{type:"submit",class:"btn btn-secondary btn-block",label:"continue",primary:!0,style:Ue.button},"CONTINUE"))))),c.a.createElement(b,null)))}}]),t}(i.Component)),Ue={button:{margin:20}},He=Fe,Je=a(57),qe=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).continue=function(e){e.preventDefault(),console.log(e),a.props.nextStep()},a.back=function(e){e.preventDefault(),a.props.prevStep()},a.validate=function(e){e.preventDefault(),fetch("/registration",{method:"post",body:JSON.stringify(a.props),headers:{"Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){3===e.result?a.props.nextStep():e.result}))},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.props.values,t=e.FirstName,a=e.LastName,n=e.Email,r=e.Address,o=e.City,l=e.State,s=e.UserName;e.NickName;return c.a.createElement(Me.a,null,c.a.createElement(c.a.Fragment,null,c.a.createElement("h1",{className:"display-4  container"},"Please Review All Data"),c.a.createElement("div",{className:" sign-in-body container"},c.a.createElement(Je.List,null,c.a.createElement(Je.ListItem,{primaryText:"First Name",secondaryText:t}),c.a.createElement(Je.ListItem,{primaryText:"Last Name",secondaryText:a}),c.a.createElement(Je.ListItem,{primaryText:"Email",secondaryText:n}),c.a.createElement(Je.ListItem,{primaryText:"Username",secondaryText:s}),c.a.createElement(Je.ListItem,{primaryText:"Address",secondaryText:r}),c.a.createElement(Je.ListItem,{primaryText:"City",secondaryText:o}),c.a.createElement(Je.ListItem,{primaryText:"State",secondaryText:l})),c.a.createElement("div",{className:"sign-up-bottom-row"},c.a.createElement("button",{type:"submit",class:"btn btn-secondary btn-lg",label:"Back",primary:!0,style:Re.button,onClick:this.back},"BACK"),c.a.createElement("button",{type:"submit",class:"btn btn-secondary btn-lg",label:"Confirm & Continue",primary:!0,style:Re.button,onClick:this.validate},"CONTINUE"))),c.a.createElement(b,null)))}}]),t}(i.Component),Re={button:{margin:20}},We=qe,ze=(a(560),function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).continue=function(e){e.preventDefault(),a.props.nextStep()},a.prevStep=function(){var e=a.state.step;a.setState({step:e-1})},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement(Me.a,null,c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"sign-in-body container"},c.a.createElement("h1",{className:"display-4"},"Thank you for your Submission")),c.a.createElement(b,null)))}}]),t}(i.Component)),Ve=function(e){function t(){var e,a;Object(n.a)(this,t);for(var r=arguments.length,s=new Array(r),i=0;i<r;i++)s[i]=arguments[i];return(a=Object(o.a)(this,(e=Object(l.a)(t)).call.apply(e,[this].concat(s)))).state={step:1,FirstName:"",LastName:"",Email:"",UserName:"",NickName:"",Password:"",Password2:"",Address:"",City:"",State:""},a.nextStep=function(){var e=a.state.step;a.setState({step:e+1})},a.prevStep=function(){var e=a.state.step;a.setState({step:e-1})},a.handleChange=function(e){return function(t){a.setState(Object(M.a)({},e,t.target.value))}},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){var e=this.state.step,t=this.state,a=t.FirstName,n=t.LastName,r=t.Email,o={FirstName:a,LastName:n,NickName:t.NickName,Email:r,Address:t.Address,City:t.City,State:t.State,Password:t.Password,Password2:t.Password2,UserName:t.UserName};switch(e){case 1:return c.a.createElement(He,{nextStep:this.nextStep,handleChange:this.handleChange,values:o});case 2:return c.a.createElement(We,{nextStep:this.nextStep,prevStep:this.prevStep,values:o});case 3:return c.a.createElement(ze,null)}}}]),t}(i.Component),Ze=function(e){function t(e){var a;return Object(n.a)(this,t),(a=Object(o.a)(this,Object(l.a)(t).call(this,e))).state={username:"",isLoggedIn:!1,login:function(){a.setState({isLoggedIn:!0})},logout:function(){a.setState({isLoggedIn:!1,usernmae:""})},setUsername:function(e){a.setState({username:e})}},a}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement(C.Provider,{value:this.state},this.props.children)}}]),t}(c.a.Component),Ge=function(e){function t(){return Object(n.a)(this,t),Object(o.a)(this,Object(l.a)(t).apply(this,arguments))}return Object(s.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(Ze,null,c.a.createElement(d.a,null,c.a.createElement(c.a.Fragment,null,c.a.createElement(C.Consumer,null,(function(e){return c.a.createElement("div",null,c.a.createElement(x,{isLoggedIn:e.isLoggedIn,name:e.username}))})),c.a.createElement(h.d,null,c.a.createElement(h.b,{exact:!0,path:"/",component:f}),c.a.createElement(h.b,{path:"/index.html",component:f}),c.a.createElement(h.b,{path:"/browse",component:P}),c.a.createElement(h.b,{path:"/login",component:Ae}),c.a.createElement(h.b,{path:"/book/:id",component:Q}),c.a.createElement(h.b,{path:"/author/:name",component:_}),c.a.createElement(h.b,{path:"/signUp",component:Ve}),c.a.createElement(C.Consumer,null,(function(e){return c.a.createElement("div",null,c.a.createElement(h.b,{path:"/profile",component:function(){return c.a.createElement(ke,{isLoggedIn:e.isLoggedIn})}}),c.a.createElement(h.b,{path:"/book/:id",component:function(){return c.a.createElement(Q,{isLoggedIn:e.isLoggedIn,username:e.username})}}),c.a.createElement(h.b,{path:"/wishlist",component:function(){return c.a.createElement(xe,{isLoggedIn:e.isLoggedIn,username:e.username})}}),c.a.createElement(h.b,{path:"/cart",component:function(){return c.a.createElement(O,{isLoggedIn:e.isLoggedIn,username:e.username})}}))})))))))}}]),t}(i.Component);t.default=Ze;u.a.render(c.a.createElement(Ge,null),document.getElementById("root"))}},[[301,1,2]]]);
//# sourceMappingURL=main.2a237692.chunk.js.map